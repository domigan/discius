(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9225:function(e,l,n){Promise.resolve().then(n.bind(n,1627))},1627:function(e,l,n){"use strict";n.d(l,{default:function(){return H}});var a=n(7437);n(4356);var t=n(2265),s=n(8472);let c=e=>{for(let l=e.length-1;l>0;l--){let n=Math.floor(Math.random()*(l+1));[e[l],e[n]]=[e[n],e[l]]}return e},i=["Trending","Electronic","Rock","Metal","Alternative","Hip-Hop/Rap","Experimental","Punk","Folk","Pop","Ambient","Soundtrack","World","Jazz","Acoustic","Funk","R&B/Soul","Devotional","Classical","Reggae","Podcasts","Country","Spoken Word","Comedy","Blues","Kids","Audiobooks","Latin","Techno","Trap","House","Tech House","Deep House","Disco","Jungle","Progressive House","Hardstyle","Glitch Hop","Trance","Future Bass","Future House","Tropical House","Downtempo","Drum & Bass","Dubstep","Jersey Club","Vaporwave","Moombahton"],r=()=>{let e=Math.floor(Math.random()*i.length);return i[e]},o="domigans-discovery",u={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"},d={app_name:o},h=async e=>(e!==i[0]&&(d.genre=e),await s.Z.get("https://discoveryprovider2.audius.co/v1/tracks/trending",{headers:u,params:d})),m=async e=>{let l=new Audio("".concat("https://discoveryprovider.audius5.prod-us-west-2.staked.cloud/v1","/tracks/").concat(e,"/stream?app_name=").concat(o));return await l.load(),await l.play().catch(console.log),l},p=async e=>{try{let l=await h(e);return c(l.data.data)}catch(e){console.log("GET ERROR!"),console.log(e)}},g=e=>{try{return m(e)}catch(e){console.log("STREAM ERROR!"),console.log(e)}};var x=n(6648);function j(e){let{artwork:l,playing:n}=e,t=n?" vinyl":"";return(0,a.jsxs)("div",{className:"vinyl-container",children:[(0,a.jsx)("img",{src:l["480x480"],className:"image2 ".concat(t),alt:"logo"}),(0,a.jsx)(x.default,{src:"/img/vinyl_img.png",width:500,height:500,className:"image1 ".concat(t),alt:"vinyl"})]})}var v=n(6548);function k(e){let{play:l,stop:n,skip:t,playing:s}=e;return(0,a.jsxs)("div",{className:"controls",children:[!s&&(0,a.jsx)(v.Z,{variant:"outlined",onClick:l,children:"PLAY"}),s&&(0,a.jsx)(v.Z,{className:"playback-btn",onClick:n,children:"STOP"}),(0,a.jsx)(v.Z,{className:"playback-btn",onClick:t,children:"NEXT"})]})}function y(e){let{title:l,artist:n,link:t}=e;return(0,a.jsxs)("div",{className:"track-info",children:[(0,a.jsx)("p",{children:(0,a.jsx)("i",{children:(0,a.jsx)("a",{href:"https://www.audius.co".concat(t),target:"_blank",children:(0,a.jsx)("b",{children:l})})})}),(0,a.jsx)("p",{children:(0,a.jsx)("b",{children:n})})]})}var f=n(4068),w=n(5870),N=n(8549),b=n(6065);function _(e){let{onChange:l,selected_genre:n}=e;return(0,a.jsx)("div",{className:"search-container",children:(0,a.jsxs)(N.Z,{fullWidth:!0,children:[(0,a.jsx)(b.Z,{id:"demo-simple-select-label",children:"Age"}),(0,a.jsx)(f.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:n,label:"Genre",onChange:e=>{l(e)},children:i.map((e,n)=>(0,a.jsx)(w.Z,{value:e,onClick:n=>l(e),children:e},"".concat(e,"-search-").concat(n)))})]})})}var P=n(2184),Z=n(8433),T=n(8498);function C(e){let{queue:l,queue_index:n}=e;return l.length-1===n?(0,a.jsx)("div",{}):(0,a.jsx)(P.Z,{className:"track-queue w-full",children:l.slice(n+1).map((e,l)=>{let{artwork:n}=e,t=n?n["150x150"]:"/img/vinyl_img.png";return(0,a.jsx)(T.ZP,{className:"queue-item w-full",children:(0,a.jsxs)(Z.ZP,{container:!0,width:"100%",children:[(0,a.jsx)(Z.ZP,{item:!0,className:"col-3",children:t&&(0,a.jsx)("img",{src:t,className:"album-art-queue",alt:"logo",width:"60",height:"60"})}),(0,a.jsx)(Z.ZP,{item:!0,className:"col-9",children:(0,a.jsx)(y,{title:e.title,artist:e.user.name,link:e.permalink})})]})},"".concat(e.id,"_").concat(l))})})}var E=n(1326);let A={playing:!1,queue:[],queue_index:0,selected_track:null,audio:null,selected_genre:i[0]};function H(){let[e,l]=(0,t.useState)(A),n=async()=>{let{selected_track:a}=e;if(a){let t=await g(a.id);t.onemptied=e=>{s(),n()},l({...e,playing:!0,audio:t})}},s=async()=>{c();let{queue:n,queue_index:a}=e;n.length-1===a?(n=await p(r()),a=0):a++;let t=n[a];l({...e,selected_track:t,queue_index:a})},c=()=>{let{playing:n,audio:a}=e;n&&a&&(a.pause(),l({...e,playing:!1}))},i=async n=>{c();let a=await p(n),t=a&&a.length?a[0]:null;l({...e,queue:a,selected_track:t,selected_genre:n})};(0,t.useEffect)(()=>{i(e.selected_genre)},[]);let{selected_track:o,playing:u,selected_genre:d,queue:h,queue_index:m}=e;return(0,a.jsx)(Z.ZP,{container:!0,className:"container",children:(0,a.jsxs)(Z.ZP,{item:!0,children:[(0,a.jsxs)(E.Z,{className:"playback-queue-container col-4",children:[o&&(0,a.jsxs)("div",{className:"track-container",children:[(0,a.jsx)(k,{play:n,skip:s,stop:c,playing:u}),(0,a.jsx)(y,{title:o.title,artist:o.user.name,link:o.permalink})]}),(0,a.jsx)("div",{children:(0,a.jsx)(_,{onChange:i,selected_genre:d})}),(0,a.jsx)("div",{children:(0,a.jsx)(C,{queue:h,queue_index:m})})]}),(0,a.jsx)(E.Z,{className:"vinyl-container col-8",children:o&&o.artwork&&(0,a.jsx)(j,{artwork:o.artwork,playing:u})})]})})}},4356:function(){}},function(e){e.O(0,[839,160,971,23,744],function(){return e(e.s=9225)}),_N_E=e.O()}]);